package geneticAlgorithms;

import java.awt.Point;
import java.util.Observable;
import java.util.Observer;
import java.util.Vector;

import javax.swing.SwingWorker;

import org.jgap.Configuration;
import org.jgap.IChromosome;

public class TSP_Worker<DrawingPanel> extends SwingWorker implements Observer{
	
	private Vector<Vector<Point>> results;
	private Vector<Point> cities;
	private Configuration config;
	
	
	@Override
	protected Object doInBackground() throws Exception {
		TSP_GA t = new TSP_GA(data,conf);
		//Set a maximum number of interactions
		t.setMaxEvolution(1000);
		IChromosome optimal = t.findOptimalPath(null);
		System.out.println("Solution: ");
		System.out.println(optimal);
		System.out.println("Score " + (Integer.MAX_VALUE / 2 - optimal.getFitnessValue()));
		return null;
	}

	@Override
	public void update(Observable o, Object arg) {
		if (arg instanceof Vector) {
			results = (Vector<Vector<Point>>) arg;
			//Notify the thread of the update
			this.setProgress((int)(Math.random()*10));
		} 
		else {
			System.out.	println("NameObserver: Some other change to subject!");
		}
	}

}
